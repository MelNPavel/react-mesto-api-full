{"version":3,"sources":["image/Close-Icon.svg","image/Logo.svg","image/button-edit.svg","image/add-button.svg","image/union.svg","image/ununion.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/constants.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/Auth.js","components/App.js","index.js"],"names":["module","exports","Header","props","className","alt","src","logo","emailHeader","exact","path","to","onClick","onlogOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","ownerId","_id","cardDeleteButtonClassName","isLiked","likeUser","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onCardDelete","onCardLike","like","Main","onAddPlace","onEditProfile","onEditAvatar","cardClick","cards","useState","avatar","setAvatar","setName","description","setDescription","getCardsClick","card","useEffect","about","style","backgroundImage","buttonEdit","buttonAdd","map","item","key","cardId","likes","length","owner","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","iconClose","title","onSubmit","children","buttonText","ImagePopup","baseUrl","configApi","headers","authorization","api","url","this","fetch","credentials","then","_checkResponse","inputsUserHandle","body","method","JSON","stringify","inputsValue","data","res","ok","json","Promise","reject","status","EditProfilePopup","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","inputRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","setLink","onUpdateAdd","Login","email","password","loginData","setLoginData","handleChandge","onUpdateAuth","Register","registerData","setRegisterData","ProtectedRoute","Component","component","loggedIn","InfoTooltip","registration","successful","notSuccessful","checkResponse","Error","statusText","App","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","setcurrentUser","setCards","setLoggedIn","infoTooltip","setInfoTooltip","history","useHistory","setRegistration","setEmail","closeAllPopups","getUserInfo","catch","err","console","log","getTasksCards","tokenCheck","push","Provider","likeUnPut","newCard","state","c","likePut","deleteCard","prevCards","filter","authorize","auth","addUser","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4bdfeb92.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Close-Icon.4c6a2169.svg\";","module.exports = __webpack_public_path__ + \"static/media/Logo.22335927.svg\";","module.exports = __webpack_public_path__ + \"static/media/button-edit.58afbe73.svg\";","module.exports = __webpack_public_path__ + \"static/media/add-button.bdfb8ebb.svg\";","module.exports = __webpack_public_path__ + \"static/media/union.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/ununion.4072126c.svg\";","import React from 'react';\r\nimport logo from '../image/Logo.svg';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n   \r\n    return (\r\n        <header className=\"header\">\r\n                <img className=\"logo\"  alt=\"Логотип\" src={logo} />\r\n                <nav className='header__auth-area'>\r\n                    <p className='header__email'>{props.emailHeader}</p>\r\n                    <Switch>\r\n                        <Route exact path=\"/\">\r\n                            <Link to=\"/signin\" className=\"link-auth\" onClick={props.onlogOut}>Выйти </Link>\r\n                        </Route>\r\n                        <Route path=\"/signup\">\r\n                            <Link to=\"/signin\" className=\"link-auth\">Войти</Link>\r\n                        </Route>\r\n                        <Route path=\"/signin\">\r\n                            <Link to=\"/signup\" className=\"link-auth\">Регистрация</Link>\r\n                        </Route>\r\n                    </Switch>\r\n                    \r\n                </nav>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction Card (props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n \r\n    const isOwn = props.ownerId === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__card-remove ${isOwn ? 'element__card-remove_visible' : 'element__card-remove_hidden'}`\r\n    ); \r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props)};\r\n\r\n    function handleLikeClick (){\r\n        props.onCardLike(props)};\r\n    \r\n    const isLiked = props.likeUser.some(i => i === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__like ${isLiked ? 'element__like_black' : ''}`\r\n    ); \r\n\r\n    function handleClick() {\r\n        props.onCardClick(props);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element__card\">\r\n            <img className=\"element__img\" src={props.link} alt={props.name} onClick = {handleClick}/>\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick = {handleDeleteClick}></button>\r\n            <div className=\"element__item\">\r\n                <h2 className=\"element__title\">{props.name}</h2>\r\n            <div className=\"element__like-container\">\r\n                <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                <p className=\"element__like-count\">{props.like}</p>\r\n            </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\r\nimport buttonEdit from '../image/button-edit.svg';\r\nimport buttonAdd from '../image/add-button.svg';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction Main({onAddPlace, onEditProfile, onEditAvatar, cardClick, cards, onCardLike, onCardDelete}) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const [avatar, setAvatar]=useState('');\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    useEffect(() => {\r\n        if(currentUser) {\r\n        setAvatar(currentUser.avatar);\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }}, [currentUser]);\r\n\r\n    function getCardsClick(card) {\r\n        cardClick(card)\r\n    }\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__item\">\r\n                    <a\r\n                        className=\"profile__avatar\"\r\n                        onClick={onEditAvatar}\r\n                        style={{ backgroundImage: `url(${avatar})` }}\r\n                    ></a>\r\n                    <div className=\"profile__info\">\r\n                        <div className=\"profile__info-item\">\r\n                            <h1 className=\"profile__info-name\">{name}</h1>\r\n                            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}>\r\n                                <img className=\"profile__edit-icon\" src={buttonEdit} alt=\"Кнопка редактирования\" />\r\n                            </button>\r\n                        </div>\r\n                        <p className=\"profile__info-about\">{description}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace} >\r\n                    <img className=\"profile__add-image\" src={buttonAdd} alt=\"Кнопка добавления\" />\r\n                </button>\r\n            </section>\r\n            \r\n            <ul className=\"element\">\r\n                {cards.map((item) => {\r\n                    return (\r\n                        <Card\r\n                            key={item._id}\r\n                            cardId={item._id}\r\n                            name={item.name}\r\n                            link={item.link}\r\n                            likeUser={item.likes}\r\n                            like={item.likes.length}\r\n                            ownerId={item.owner}\r\n                            onCardClick={getCardsClick}\r\n                            onCardLike={onCardLike}\r\n                            onCardDelete={onCardDelete}\r\n                        />)\r\n                })}\r\n            </ul>\r\n        </main>\r\n    )\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"copyright\">&#169; {new Date().getFullYear()}</p>\r\n        </footer>\r\n    )\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport iconClose from '../image/Close-Icon.svg';\r\n\r\nfunction PopupWithForm (props) {\r\n\r\n    return(\r\n        <div className={`popup popup_${props.name}_type ${props.isOpen ? 'popup_opened':''}`}>\r\n            <div className={`popup__container popup__container_type_${props.name}`}>\r\n                <button className= {`popup__close popup__close_type_${props.name} type=\"button`} onClick = {props.onClose} >\r\n                    <img className=\"popup__close-img\" src={iconClose} alt=\"закрытие всплывающего окна\"/>\r\n                </button>\r\n                <h2 className={`popup__title popup__title_type_${props.name}`}>{props.title}</h2>\r\n                <form className={`popup__form popup__form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\r\n                    {[props.children]}\r\n                <button className=\"popup__button\" type=\"submit\">{props.buttonText}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport iconClose from '../image/Close-Icon.svg';\r\n\r\nfunction ImagePopup (props) {\r\n\r\n    return (\r\n    <div className={`popup popup_image_background ${props.card && 'popup_opened'}`}>\r\n        <div className=\"popup__image-container\">\r\n            <figure className=\"popup__foto-block\">\r\n                <img className=\"popup__foto\" src={props.card ? props.card.link : ''} alt={props.card ? props.card.name : ''}/>\r\n                <figcaption className=\"popup__foto-name\">{props.card ? props.card.name : ''}</figcaption>\r\n                <button className= \"popup__close popup__close_place_foto\" type=\"button\">\r\n                    <img className=\"popup__close-img\"  src={iconClose} alt=\"закрытие всплывающего окна\" onClick = {props.onClose}/>\r\n                </button>\r\n            </figure>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","const config = {\r\n    formSelector: '.popup__form',\r\n    inputType: '.popup__input',\r\n    buttonSelector: '.popup__button',\r\n    inactiveButtonClass: 'popup__button_disable',\r\n    inputErrorClass: 'popup__input_type_error',\r\n    errorClass: 'popup__error_visible',\r\n};\r\n\r\nconst baseUrl = \"http://localhost:4000\";\r\nconst myJwt = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MmY0MTUyMTYzOTBhNDAwMTQ2OTYxMDkiLCJpYXQiOjE2NjAxNjM1MDN9.nMr1EsDiPO1LmmC1oksqDJ3elyXwpbkbU7NEKQBeuH4\";\r\n\r\nconst configApi = {\r\n  baseUrl: 'http://localhost:4000',\r\n  headers: {\r\n    authorization: '86b10ee1-81f7-46f9-8c08-51d061f72e78',\r\n    'Content-Type': 'application/json'\r\n  },\r\n};\r\n\r\nconst userAvatar = '.profile__avatar'\r\nconst userName ='.profile__info-name';\r\nconst userAbout ='.profile__info-about';\r\nconst userData = {\r\n  name: userName,\r\n  about: userAbout,\r\n  avatar: userAvatar\r\n};\r\n\r\nexport {\r\n    config,\r\n    configApi,\r\n    userAvatar,\r\n    userName,\r\n    userAbout,\r\n    userData,\r\n    baseUrl,\r\n    myJwt,\r\n}","import {configApi} from \"./constants.js\"\r\n\r\nclass Api{\r\n    constructor ({url, headers}) {\r\n        this.url = url;\r\n        this.headers = headers\r\n};\r\n\r\ngetUserInfo() {\r\n    return fetch (`${this.url}/users/me`, {\r\n        credentials: \"include\",    \r\n        headers: this.headers\r\n    })\r\n    .then(this._checkResponse)\r\n};\r\n\r\ngetTasksCards() {\r\n    return fetch (`${this.url}/cards`, {\r\n        credentials: \"include\",    \r\n        headers: this.headers\r\n    })\r\n    .then(this._checkResponse)\r\n};\r\n\r\naddUser(inputsUserHandle) {\r\n    const body = {about: inputsUserHandle.about, name: inputsUserHandle.name}\r\n    return fetch (`${this.url}/users/me`, {\r\n        credentials: \"include\",    \r\n        method: 'PATCH',\r\n        headers: this.headers,\r\n        body: JSON.stringify(body)\r\n            }\r\n    )\r\n    .then(this._checkResponse)\r\n};\r\n\r\naddCard(inputsValue) {\r\n    const body = {name: inputsValue.name, link: inputsValue.link}\r\n    return fetch (`${this.url}/cards`, {\r\n        credentials: \"include\",\r\n        method: 'POST',\r\n        headers: this.headers,\r\n        body: JSON.stringify(body)\r\n        }\r\n    )\r\n    .then(this._checkResponse)\r\n};\r\n\r\ndeleteCard(cardId) {\r\n    return fetch (`${this.url}/cards/${cardId}`,{\r\n        credentials: \"include\",\r\n        method: 'DELETE',\r\n        headers: this.headers,\r\n    })\r\n    .then(this._checkResponse)\r\n};\r\n\r\nlikePut(cardId) {\r\n    return fetch (`${this.url}/cards/${cardId}/likes`,{\r\n        credentials: \"include\",\r\n        method: 'PUT',\r\n        headers: this.headers,\r\n    })\r\n    .then(this._checkResponse)\r\n};\r\n\r\nlikeUnPut(cardId) {\r\n    return fetch (`${this.url}/cards/${cardId}/likes`,{\r\n        credentials: \"include\",\r\n        method: 'DELETE',\r\n        headers: this.headers,\r\n    })\r\n    .then(this._checkResponse)\r\n};\r\n\r\navatar(data) {\r\n    return fetch (`${this.url}/users/me/avatar`, {\r\n        credentials: \"include\",\r\n        method: 'PATCH',\r\n        headers: this.headers,\r\n        body: JSON.stringify(data)\r\n        })\r\n        .then(this._checkResponse)\r\n};\r\n\r\n_checkResponse(res) {\r\n    if (res.ok) {\r\n        return res.json();\r\n     }\r\n     return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\n};\r\n\r\nconst api = new Api ({\r\n    url: configApi.baseUrl,\r\n    headers: configApi.headers\r\n  }\r\n);\r\n\r\nexport default api;","import React, { useState, useEffect} from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../context/CurrentUserContext.js'\n\nexport function EditProfilePopup(props) {\n\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    useEffect(() => {\n        if(currentUser) {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }}, [currentUser, props.isOpen]); \n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit (e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n        \n    return(\n        <PopupWithForm name='edit' title='Редактировать профиль' isOpen={props.isOpen} onClose={props.onClose} buttonText = 'Сохранить' onSubmit={handleSubmit}>\n            <input\n                id=\"type-name\"\n                className=\"popup__input popup__input_type_name\"\n                type=\"text\"\n                name=\"nameProfile\"\n                placeholder={name}\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                onChange={handleChangeName}\n                value={name}\n            />\n            <span className=\"popup__error type-name-error\"></span>\n            <input\n                id=\"type-about\"\n                className=\"popup__input popup__input_type_about\"\n                type=\"text\"\n                name=\"aboutProfile\"\n                placeholder={description}\n                minLength=\"2\"\n                maxLength=\"400\"\n                required\n                onChange={handleChangeDescription}\n                value={description}\n            />\n            <span className=\"popup__error\" id=\"type-about-error\"></span>\n      </PopupWithForm>\n)}","import React, { useEffect, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nexport function EditAvatarPopup(props) {\n\n    const inputRef = useRef(null)\n     \n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        props.onUpdateAvatar({\n            avatar: inputRef.current.value\n        });\n    } \n\n    useEffect(()=>{\n        inputRef.current.value=''\n    }, [props.isOpen]);\n\n    return(\n        <PopupWithForm name='avatar' title='Обновить аватар' isOpen={props.isOpen} onClose={props.onClose} buttonText = 'Сохранить' onSubmit={handleSubmit}>\n            <input\n                id=\"type-avatar\"\n                className=\"popup__input popup__input_type_avatar\"\n                type=\"url\"\n                name=\"avatar\"\n                placeholder=\"Ссылка на аватар\"\n                required\n                ref={inputRef}\n            />\n            <span className=\"popup__error\" id=\"type-avatar-error\"></span>\n        </PopupWithForm>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nexport function AddPlacePopup(props) {\n\n    const[name, setName]=useState('');\n    const[link, setLink]=useState('');\n\n    function handleChangeNamePlace(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handleAddPlaceSubmit(e) {\n        e.preventDefault();\n        \n        props.onUpdateAdd({\n            name,\n            link\n        })\n    }\n\n    useEffect(()=>{\n        setName('');\n        setLink('');\n    }, [props.isOpen]);\n\n    return(\n        <PopupWithForm name='add' title='Новое место' isOpen={props.isOpen} onClose={props.onClose} buttonText = 'Создать' onSubmit={handleAddPlaceSubmit}>\n            <input\n                id=\"type-title\"\n                className=\"popup__input popup__input_type_title\"\n                type=\"text\"\n                name=\"nameCard\"\n                placeholder=\"Название\"\n                required\n                minLength=\"2\"\n                maxLength=\"30\"\n                onChange={handleChangeNamePlace}\n                value={name}\n            />\n            <span className=\"popup__error\" id=\"type-title-error\"></span>\n            <input\n                id=\"type-image\"\n                className=\"popup__input popup__input_type_image\"\n                type=\"url\"\n                name=\"linkCard\"\n                placeholder=\"Ссылка на картинку\"\n                required\n                onChange={handleChangeLink}\n                value={link}\n            />\n            <span className=\"popup__error\" id=\"type-image-error\"></span>\n        </PopupWithForm>\n    )\n}","import React, {useState} from \"react\";\n\nexport function Login (props) {\n\n    const [loginData, setLoginData] = useState({\n        email:'',\n        password:'',\n    })\n\n    const handleChandge = (e) => {\n        const {name, value} = e.target;\n        setLoginData ({\n            ...loginData,\n            [name]: value,\n        });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        props.onUpdateAuth({\n            ...loginData\n        });\n    }\n\n    return(\n        <div className=\"page\">\n            <section className=\"auth\">\n                <h2 className=\"auth__title\">Вход</h2>\n                <form className=\"auth__form\" onSubmit={handleSubmit}>\n                    <input\n                        id=\"type-email\"\n                        className=\"auth__input auth__input_type_email\"\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Email\"\n                        minLength=\"7\"\n                        maxLength=\"40\"\n                        required\n                        onChange={handleChandge}\n                        value={loginData.email}\n                    />\n                    <span className=\"auth__error type-email-error\"></span>\n                    <input\n                        id=\"type-password\"\n                        className=\"auth__input auth__input_type_password\"\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"Пароль\"\n                        minLength=\"8\"\n                        maxLength=\"50\"\n                        required\n                        onChange={handleChandge}\n                        value={loginData.password}\n                    />\n                    <span className=\"auth__error\" id=\"type-password-error\"></span>\n                    <button className=\"auth__button\" type=\"submit\">\n                        Вход\n                    </button>\n                </form>\n            </section>\n        </div>\n    )\n}","import React, { useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport function Register(props) {\r\n\r\n    const [registerData, setRegisterData] = useState({\r\n        email:'',\r\n        password:'',\r\n    })\r\n\r\n    const handleChandge = (e) => {\r\n        const {name, value} = e.target;\r\n        setRegisterData ({\r\n            ...registerData,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAuth({\r\n            ...registerData\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div className=\"page\">\r\n           \r\n            <section className=\"auth\">\r\n                <h2 className=\"auth__title\">Регистрация</h2>\r\n                <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n                    <input\r\n                        id=\"type-email\"\r\n                        className=\"auth__input auth__input_type_email\"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        minLength=\"7\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        onChange={handleChandge}\r\n                        value={registerData.email}\r\n                    />\r\n                    <span className=\"auth__error type-email-error\"></span>\r\n                    <input\r\n                        id=\"type-password\"\r\n                        className=\"auth__input auth__input_type_password\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Пароль\"\r\n                        minLength=\"8\"\r\n                        maxLength=\"50\"\r\n                        required\r\n                        onChange={handleChandge}\r\n                        value={registerData.password}\r\n                    />\r\n                    <span className=\"auth__error\" id=\"type-password-error\"></span>\r\n                    <button className=\"auth__button\" type=\"submit\">\r\n                    Регистрация\r\n                    </button>\r\n                </form>\r\n                <div className=\"auth__check-area\">\r\n                    \r\n                    \r\n                    <p className=\"auth__link\">Уже зарегистрированы?&nbsp;\r\n                        <Link to={\"/signin\"} className=\"link-auth link-auth__signin\">\r\n                            Войти\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","import React from \"react\";\r\nimport iconClose from '../image/Close-Icon.svg';\r\nimport successful from '../image/union.svg';\r\nimport notSuccessful from '../image/ununion.svg';\r\n\r\nexport function InfoTooltip ({isOpen, registration, onClose}) {\r\n\r\n    return (\r\n        // <div className={`info-tooltip ${props.isOpen ? 'info-tooltip_opened':''}`}></div>\r\n        <div className={`tooltip ${isOpen && 'tooltip_opened'}`}>\r\n            <div className='tooltip__container'>\r\n                <button className= 'tooltip__close' onClick = {onClose}>\r\n                    <img className=\"tooltip__close-img\" src={iconClose} alt=\"закрытие всплывающего окна\"/>\r\n                </button>\r\n                <div className=\"tooltip__section\">\r\n                    <img className=\"tooltip__image\" src={`${registration ? successful : notSuccessful}`} alt=\"Знак оповещающий о результате регистрации\" />\r\n                    <h2 className='tooltip__title'> {`${registration ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте еще раз.\"}`}</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { baseUrl } from \"./constants.js\";\r\n\r\n\r\nconst checkResponse = (res) => \r\n  res.ok ? \r\n    res.json()\r\n    : Promise.reject(new Error(`Ошибка ${res.status}: ${res.statusText}`));\r\n\r\nexport const auth = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    credentials: \"include\",\r\n    method: 'POST',\r\n    headers: {      \r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(res => checkResponse(res))\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    credentials: \"include\",\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(res => checkResponse(res))\r\n};\r\n\r\nexport const getContent = () => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    credentials: \"include\",\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n    }\r\n  })\r\n  .then(res => checkResponse(res))\r\n};\r\n\r\nexport const logout = () => {\r\n  return fetch(`${baseUrl}/onlogout`, {\r\n      method: 'POST',\r\n      headers: {        \r\n        'Content-Type': 'application/json'\r\n      },\r\n      credentials: \"include\",\r\n  })\r\n  .then(res => checkResponse(res));\r\n};\r\n","import React, { useState, useEffect} from 'react';\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\n\r\nimport Header from '../components/Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from '../components/Footer.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\nimport { EditProfilePopup } from './EditProfilePopup.js';\r\nimport { EditAvatarPopup } from './EditAvatarPopup.js';\r\nimport { AddPlacePopup } from './AddPlacePopup.js';\r\nimport { Login } from \"./Login.js\";\r\nimport { Register } from \"./Register.js\";\r\nimport ProtectedRoute from \"./ProtectedRoute.js\";\r\nimport { InfoTooltip } from \"./InfoTooltip.js\";\r\nimport { auth, authorize, getContent, logout } from \"../utils/Auth.js\";\r\n\r\nfunction App() {\r\n   \r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [selectedCard, setSelectedCard] = useState(null);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [currentUser, setcurrentUser] = useState(null);\r\n    const [cards, setCards] = useState([]);\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const [infoTooltip, setInfoTooltip] = useState(false);\r\n    const history = useHistory();\r\n    const [registration, setRegistration] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n\r\n        function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setSelectedCard(null);\r\n        setInfoTooltip(false);\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n    }  \r\n\r\n    //Загрузка первоначальных данных пользователя\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then((res) => {\r\n                setcurrentUser(res)\r\n            })\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n              })\r\n}, [loggedIn])\r\n\r\n    //Загрузка карточек первоначальная\r\n    useEffect(() => {\r\n        if (loggedIn){\r\n        api.getTasksCards()\r\n            .then(res => {\r\n                setCards(res)\r\n            })\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n            })\r\n}}, [loggedIn])\r\n\r\n    //Обновление данных пользователя\r\n    function handleUpdateUser(data) {\r\n        api.addUser(data)\r\n            .then((res) => {\r\n                setcurrentUser(res)\r\n                closeAllPopups()\r\n            })\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n            })\r\n    }\r\n    \r\n    //Обновление автара\r\n    function handleUpdateAvatar(data) {\r\n        api.avatar(data)\r\n            .then((res) => {\r\n                setcurrentUser(res)\r\n                closeAllPopups()\r\n            })\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n            })\r\n    }\r\n\r\n    //Лайки\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likeUser.some(i => i === currentUser._id);\r\n        if (!isLiked){\r\n        api.likePut(card.cardId)\r\n            .then((newCard) => {\r\n                setCards((state) => state.map(\r\n                    (c) => c._id === card.cardId ? newCard : c))})\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n            })} else {\r\n        api.likeUnPut(card.cardId)\r\n            .then((newCard) => {\r\n                setCards((state) => state.map(\r\n                (c) => c._id === card.cardId ? newCard : c))})\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n             })}\r\n    } \r\n\r\n    //удаление карточки\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card.cardId)\r\n            .then ((res) => {\r\n                setCards(prevCards=> prevCards.filter(item => item._id !== card.cardId))\r\n            })\r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n             })                \r\n    }\r\n\r\n     //добавление карточки\r\n    function handleAddPlaceSubmit(data) {\r\n        api.addCard(data)\r\n            .then ((newCard) => {\r\n                setCards([newCard, ...cards])\r\n                closeAllPopups()\r\n            })   \r\n            .catch((err) => {\r\n                console.log ('Ошибка' + err);\r\n             })\r\n    }\r\n    \r\n    //Если есть токен заходи\r\n    const tokenCheck = () => {\r\n        getContent()\r\n            .then((res) => {\r\n                setLoggedIn(true);\r\n                setEmail(res.email);\r\n                history.push ('/');\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    //Регистрация\r\n    const handleRegister = (data) => {\r\n        auth(data.email, data.password)\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setInfoTooltip(true);\r\n                    setRegistration(true);\r\n                    setLoggedIn(true);\r\n                    setEmail(data.email);\r\n                    history.push ('/signin');\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                setInfoTooltip(true);\r\n                setRegistration(false);\r\n                setLoggedIn(false);\r\n                console.log(err);\r\n                }\r\n            );\r\n    }\r\n\r\n    //Вход через логин\r\n    const handleLogin = (data) => {\r\n        authorize(data.email, data.password)\r\n            .then((res) => {              \r\n                setLoggedIn(true);              \r\n                setEmail(data.email);\r\n                history.push ('/');\r\n    })\r\n            .catch((err) => {\r\n                setInfoTooltip(true);\r\n                setRegistration(false);\r\n                console.log(err)\r\n        });\r\n    }\r\n\r\n    //Выход\r\n    const onlogOut = () => {\r\n        logout()\r\n            .then(() =>  {            \r\n                setLoggedIn(false);\r\n                setEmail(\"\");\r\n                history.push ('/');                \r\n            })             \r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        tokenCheck();\r\n     }, []);\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"page\">\r\n            <Header onlogOut={onlogOut}\r\n            emailHeader={email} \r\n            />\r\n            <Switch>\r\n                <ProtectedRoute\r\n                    exact path=\"/\"\r\n                    loggedIn={loggedIn}\r\n                    component={Main}\r\n                    onAddPlace={handleAddPlaceClick}\r\n                    onEditProfile={handleEditProfileClick}\r\n                    onEditAvatar={handleEditAvatarClick}\r\n                    cardClick={handleCardClick}\r\n                    cards={cards}\r\n                    onCardLike={handleCardLike} \r\n                    onCardDelete={handleCardDelete}\r\n                />\r\n                <Route path=\"/signin\">\r\n                    <Login\r\n                        onUpdateAuth={handleLogin}\r\n                    />\r\n                </Route>\r\n\r\n                <Route path=\"/signup\">\r\n                    <Register\r\n                        onUpdateAuth = {handleRegister}\r\n                    />\r\n                </Route>\r\n            </Switch>\r\n            <Footer />\r\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdateAdd={handleAddPlaceSubmit} />\r\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n                <PopupWithForm name='consent' title='Вы уверены?' onClose={closeAllPopups} buttonText = 'да' />\r\n                <InfoTooltip isOpen={infoTooltip} registration={registration} onClose={closeAllPopups} />\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport { BrowserRouter } from \"react-router-dom\"\r\n\r\nReactDOM.render(\r\n    <BrowserRouter> \r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </BrowserRouter>,\r\ndocument.getElementById('root'));"],"sourceRoot":""}